{
  "title": "Envoy Gateway | Controller",
  "panels": [
    {
      "id": 1,
      "targets": [
        {
          "expr": "sum by(le) (watchable_subscribe_duration_seconds_bucket{cluster_id=\"$workload_cluster\", runner=~\"$Runner\", namespace=\"$Namespace\"})",
          "refId": "A"
        }
      ]
    },
    {
      "id": 24,
      "targets": [
        {
          "expr": "avg by(runner) (watchable_subscribe_duration_seconds_sum{cluster_id=\"$workload_cluster\", runner=~\"$Runner\", namespace=\"$Namespace\"})",
          "refId": "A"
        },
        {
          "expr": "max by(runner) (watchable_subscribe_duration_seconds_sum{cluster_id=\"$workload_cluster\", runner=~\"$Runner\", namespace=\"$Namespace\"})",
          "refId": "B"
        }
      ]
    },
    {
      "id": 7,
      "targets": [
        {
          "expr": "sum by(runner) (watchable_depth{cluster_id=\"$workload_cluster\", runner=~\"$Runner\", namespace=\"$Namespace\"})",
          "refId": "A"
        }
      ]
    },
    {
      "id": 10,
      "targets": [
        {
          "expr": "sum by(status) (watchable_subscribe_total{cluster_id=\"$workload_cluster\", runner=\"$Runner\", namespace=\"$Namespace\"})",
          "refId": "A"
        },
        {
          "expr": "sum(watchable_subscribe_total{cluster_id=\"$workload_cluster\", runner=\"$Runner\", namespace=\"$Namespace\"})",
          "refId": "B"
        }
      ]
    },
    {
      "id": 25,
      "targets": [
        {
          "expr": "sum(watchable_panics_recovered_total{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"})",
          "refId": "A"
        }
      ]
    },
    {
      "id": 61,
      "targets": [
        {
          "expr": "sum by(le) (status_update_duration_seconds_bucket{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"})",
          "refId": "A"
        }
      ]
    },
    {
      "id": 82,
      "targets": [
        {
          "expr": "status_update_duration_seconds_sum{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"}",
          "refId": "A"
        }
      ]
    },
    {
      "id": 83,
      "targets": [
        {
          "expr": "status_update_duration_seconds_sum{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"}",
          "refId": "A"
        }
      ]
    },
    {
      "id": 84,
      "targets": [
        {
          "expr": "status_update_duration_seconds_sum{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"}",
          "refId": "A"
        }
      ]
    },
    {
      "id": 56,
      "targets": [
        {
          "expr": "sum by(kind) (status_update_total{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"})",
          "refId": "A"
        }
      ]
    },
    {
      "id": 57,
      "targets": [
        {
          "expr": "sum by(status) (status_update_total{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"})",
          "refId": "A"
        }
      ]
    },
    {
      "id": 127,
      "targets": [
        {
          "expr": "sum(xds_snapshot_create_total{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"})",
          "refId": "A"
        },
        {
          "expr": "sum by(status) (xds_snapshot_create_total{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"})",
          "refId": "B"
        }
      ]
    },
    {
      "id": 149,
      "targets": [
        {
          "expr": "max(xds_stream_duration_seconds_bucket{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\", isDeltaStream=\"true\"})",
          "refId": "A"
        }
      ]
    },
    {
      "id": 150,
      "targets": [
        {
          "expr": "xds_stream_duration_seconds_sum{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\", isDeltaStream=\"true\"}",
          "refId": "A"
        }
      ]
    },
    {
      "id": 151,
      "targets": [
        {
          "expr": "xds_stream_duration_seconds_sum{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\", isDeltaStream=\"true\"}",
          "refId": "A"
        }
      ]
    },
    {
      "id": 152,
      "targets": [
        {
          "expr": "sum by(nodeID) (xds_snapshot_update_total{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"})",
          "refId": "A"
        }
      ]
    },
    {
      "id": 153,
      "targets": [
        {
          "expr": "sum by(status) (xds_snapshot_update_total{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"})",
          "refId": "A"
        }
      ]
    },
    {
      "id": 199,
      "targets": [
        {
          "expr": "sum by(le) (resource_apply_duration_seconds_bucket{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"})",
          "refId": "A"
        }
      ]
    },
    {
      "id": 220,
      "targets": [
        {
          "expr": "sum by(kind) (resource_apply_duration_seconds_sum{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"})",
          "refId": "A"
        }
      ]
    },
    {
      "id": 221,
      "targets": [
        {
          "expr": "sum by(kind) (resource_apply_duration_seconds_sum{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"})",
          "refId": "A"
        }
      ]
    },
    {
      "id": 222,
      "targets": [
        {
          "expr": "sum by(kind) (resource_apply_duration_seconds_sum{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"})",
          "refId": "A"
        }
      ]
    },
    {
      "id": 157,
      "targets": [
        {
          "expr": "sum by(kind) (resource_apply_total{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"})",
          "refId": "A"
        }
      ]
    },
    {
      "id": 229,
      "targets": [
        {
          "expr": "sum by(status) (resource_apply_total{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"})",
          "refId": "A"
        }
      ]
    },
    {
      "id": 178,
      "targets": [
        {
          "expr": "sum by(name) (resource_apply_total{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"})",
          "refId": "A"
        }
      ]
    },
    {
      "id": 223,
      "targets": [
        {
          "expr": "sum by(le) (resource_delete_duration_seconds_bucket{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"})",
          "refId": "A"
        }
      ]
    },
    {
      "id": 224,
      "targets": [
        {
          "expr": "sum by(kind) (resource_delete_duration_seconds_sum{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"})",
          "refId": "A"
        }
      ]
    },
    {
      "id": 225,
      "targets": [
        {
          "expr": "sum by(kind) (resource_delete_duration_seconds_sum{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"})",
          "refId": "A"
        }
      ]
    },
    {
      "id": 226,
      "targets": [
        {
          "expr": "sum by(kind) (resource_delete_duration_seconds_sum{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"})",
          "refId": "A"
        }
      ]
    },
    {
      "id": 227,
      "targets": [
        {
          "expr": "sum by(kind) (resource_delete_total{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"})",
          "refId": "A"
        }
      ]
    },
    {
      "id": 232,
      "targets": [
        {
          "expr": "sum by(status) (resource_delete_total{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"})",
          "refId": "A"
        }
      ]
    },
    {
      "id": 228,
      "targets": [
        {
          "expr": "sum by(name) (resource_delete_total{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"})",
          "refId": "A"
        }
      ]
    },
    {
      "id": 250,
      "targets": [
        {
          "expr": "wasm_cache_entries{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"}",
          "refId": "A"
        }
      ]
    },
    {
      "id": 251,
      "targets": [
        {
          "expr": "sum by(hit) (wasm_cache_lookup_total{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"})",
          "refId": "A"
        }
      ]
    },
    {
      "id": 252,
      "targets": [
        {
          "expr": "sum by(status) (wasm_remote_fetch_total{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"})",
          "refId": "A"
        },
        {
          "expr": "sum(wasm_remote_fetch_total{cluster_id=\"$workload_cluster\", namespace=\"$Namespace\"})",
          "refId": "B"
        }
      ]
    }
  ],
  "templating": {
    "list": [
      {
        "current": {
          "selected": false,
          "text": "",
          "value": ""
        },
        "datasource": {
          "uid": "$datasource"
        },
        "definition": "label_values(kubernetes_build_info, cluster_id)",
        "hide": 0,
        "includeAll": false,
        "label": "Cluster",
        "multi": false,
        "name": "workload_cluster",
        "options": [],
        "query": {
          "query": "label_values(kubernetes_build_info, cluster_id)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        },
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 1,
        "type": "query"
      },
      {
        "definition": "label_values(watchable_depth{cluster_id=\"$workload_cluster\"}, namespace)",
        "name": "Namespace",
        "label": "Namespace",
        "query": {
          "qryType": 1,
          "query": "label_values(watchable_depth{cluster_id=\"$workload_cluster\"}, namespace)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        }
      },
      {
        "definition": "label_values(watchable_depth{cluster_id=\"$workload_cluster\"}, runner)",
        "name": "Runner",
        "label": "Runner",
        "query": {
          "qryType": 1,
          "query": "label_values(watchable_depth{cluster_id=\"$workload_cluster\"}, runner)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        }
      }
    ]
  }
}

